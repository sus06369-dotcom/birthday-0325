 <!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ç”Ÿæ—¥å°é©šå–œ Part 2</title>

  <!-- Google Font (å¯æ›) -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@700&display=swap" rel="stylesheet"/>

  <style>
    html,body{
      margin:0;
      height:100%;
      font-family: 'Noto Sans TC', sans-serif;
      background: linear-gradient(to right, #d8b4fe, #fbc2eb); /* ç²‰ç´«æ¼¸å±¤ */
      overflow:hidden;
      color:#4b0082;
    }

    /* æ–‡å­—å®¹å™¨ï¼šç½®ä¸­é¡¯ç¤ºï¼Œæ¯æ®µè¼ªæ’­ */
    #text-container{
      position:relative;
      z-index:2;
      width:100%;
      height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      padding:2rem;
      box-sizing:border-box;
    }

    .text{
      display:block;
      opacity:0;
      transform:scale(0.6);
      transition: transform 0.55s cubic-bezier(.2,.8,.2,1), opacity 0.5s;
      white-space:nowrap;
      line-height:1;
    }

    .text.show{
      opacity:1;
      transform:scale(1);
    }

    /* æ™®é€šå­—èˆ‡å€’æ•¸å­—å¤§å° */
    .normal { font-size: clamp(28px, 6vw, 64px); }
    .big    { font-size: clamp(72px, 18vw, 180px); }

    /* å½©å±‘æ¨£å¼ï¼ˆJS æœƒè¨­å®šå¯¬é«˜èˆ‡ä½ç½®ï¼‰ */
    .confetti{
      position:absolute;
      top:-20px;
      border-radius:2px;
      opacity:0.95;
      z-index:1;
      animation: fall linear forwards;
      pointer-events:none;
    }
    @keyframes fall {
      to { transform: translateY(110vh) rotate(720deg); }
    }

    /* å°æ’­æ”¾æŒ‰éˆ•ï¼ˆè‹¥è‡ªå‹•æ’­æ”¾è¢«é˜»æ“‹å°±æœƒé¡¯ç¤ºï¼‰ */
    #playBtn{
      position:fixed;
      right:18px;
      bottom:18px;
      z-index:9999;
      background: rgba(75,0,130,0.95);
      color: white;
      border: none;
      width:48px;
      height:48px;
      border-radius:50%;
      display:none;
      align-items:center;
      justify-content:center;
      font-size:18px;
      cursor:pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.25);
    }
  </style>
</head>
<body>

  <!-- æ–‡å­—é¡¯ç¤ºå€ -->
  <div id="text-container"></div>

  <!-- èƒŒæ™¯éŸ³æ¨‚ï¼šæŠŠä¸‹é¢æª”åæ”¹æˆä½ ä¸Šå‚³çš„æª”åï¼ˆä¾‹å¦‚ Blessing.mp3 / bgm.mp3ï¼‰ -->
  <audio id="bgm" preload="auto" loop>
    <source src="Blessing.mp3" type="audio/mpeg">
    ä½ çš„ç€è¦½å™¨ä¸æ”¯æ´éŸ³è¨Šæ’­æ”¾
  </audio>

  <!-- è‹¥è‡ªå‹•æ’­æ”¾è¢«é˜»æ“‹ï¼Œæœƒé¡¯ç¤ºçš„æ’­æ”¾æŒ‰éˆ• -->
  <button id="playBtn" title="æ’­æ”¾éŸ³æ¨‚">â–¶</button>

  <script>
    /* ----- æ–‡å­—é †åº ----- */
    const messages = [
      "å˜¿ï½èŠèŒ‰å¦²çµ²",
      "ä»Šå¤©æ˜¯å±¬æ–¼",
      "ğŸ«µğŸ»ğŸ«µğŸ»ä½ ğŸ«µğŸ»ğŸ«µğŸ»",
      "ç‰¹åˆ¥æ—¥å­ï¼ï¼ï¼",
      "æº–å‚™å¥½äº†å—ï¼ŸğŸ§",
      "å°±ç®—é‚„æ²’ğŸ‘€",
      "ä¹Ÿçµ¦æˆ‘æº–å‚™å¥½ğŸ˜",
      "ä¸ç­‰ä½ çš„ğŸ¥³",
      "5","4","3","2","1"
    ];

    const container = document.getElementById('text-container');

    // helperï¼šé¡¯ç¤ºå–®æ®µæ–‡å­—ï¼ˆæ¸…ç©ºå‰ä¸€æ®µï¼‰
    function showTextNow(text, isBig=false){
      container.innerHTML = '';
      const el = document.createElement('div');
      el.className = 'text ' + (isBig ? 'big' : 'normal');
      el.textContent = text;
      container.appendChild(el);
      // å…è¨±ä¸€å¹€å¾ŒåŠ ä¸Š show ä»¥è§¸ç™¼ transition
      requestAnimationFrame(()=> el.classList.add('show'));
    }

    // ä¸»æµç¨‹ï¼šæ¯æ®µé¡¯ç¤ºé–“éš”ï¼ˆmsï¼‰
    const intervalMs = 1800;
    let idx = 0;

    function runSequence(){
      if(idx >= messages.length) {
        // å®Œæˆå¾Œåœåœ¨æœ€å¾Œä¸€æ®µï¼ˆæˆ–æ”¹æˆè·³ç¬¬ä¸‰é ï¼‰
        return;
      }
      const msg = messages[idx];
      const isNumber = !isNaN(msg);
      showTextNow(msg, isNumber);
      // ç¬¬ä¸€æ¬¡é¡¯ç¤ºæ™‚å˜—è©¦æ’­æ”¾éŸ³æ¨‚ï¼ˆå¤šåšå˜—è©¦ï¼‰
      if(idx === 0) tryPlayBgm();
      idx++;
      setTimeout(runSequence, intervalMs);
    }

    /* ----- èƒŒæ™¯éŸ³æ¨‚æ’­æ”¾è™•ç† ----- */
    const bgm = document.getElementById('bgm');
    const playBtn = document.getElementById('playBtn');

    async function tryPlayBgm(){
      try {
        await bgm.play();
        playBtn.style.display = 'none';
      } catch (e) {
        // è¢«é˜»æ“‹æ™‚é¡¯ç¤ºå°æŒ‰éˆ•ï¼Œé»æ“Šä»»ä½•åœ°æ–¹ä¹Ÿæœƒå˜—è©¦æ’­æ”¾
        playBtn.style.display = 'flex';
        const onUser = () => {
          bgm.play().catch(()=>{});
          document.removeEventListener('click', onUser);
          document.removeEventListener('touchstart', onUser);
        };
        document.addEventListener('click', onUser, { once:true });
        document.addEventListener('touchstart', onUser, { once:true });
      }
    }

    // æŒ‰éˆ•æŒ‰ä¸‹ä¹Ÿæœƒå˜—è©¦æ’­æ”¾ä¸¦éš±è—æŒ‰éˆ•
    playBtn.addEventListener('click', async () => {
      bgm.play().then(()=> playBtn.style.display='none').catch(()=>{});
    });

    /* ----- å½©å±‘ï¼ˆåŸæœ¬è‰²å½©ï¼‰ ----- */
    function createConfetti(){
      const c = document.createElement('div');
      c.className = 'confetti';
      // åŸæœ¬æ˜äº®è‰²å½©ï¼ˆä½ å…ˆå‰çš„åŸè‰²ï¼‰
      const colors = ["#ff0", "#0f0", "#0ff", "#f0f", "#f00", "#00f"];
      c.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
      // éš¨æ©Ÿæ°´å¹³ä½ç½®
      c.style.left = Math.random() * window.innerWidth + 'px';
      // éš¨æ©Ÿå¤§å°ï¼ˆå›åˆ°åŸä¾†çš„å°ºå¯¸ï¼‰
      const size = Math.random()*8 + 5; // 5 ~ 13 px
      c.style.width = size + 'px';
      c.style.height = size + 'px';
      // é£„è½é€Ÿåº¦
      const duration = Math.random()*3 + 2; // 2 ~ 5s
      c.style.animationDuration = duration + 's';

      document.body.appendChild(c);
      // ç§»é™¤
      setTimeout(()=> c.remove(), duration*1000 + 200);
    }

    // é€£çºŒç”Ÿæˆï¼ˆå›åˆ°åŸä¾†å¯†åº¦ï¼‰
    const confettiInterval = setInterval(createConfetti, 150);

    /* ----- å•Ÿå‹• ----- */
    // resize è™•ç†ï¼šè‹¥éœ€è¦æ“´å±•å¯åŠ ä¸Š
    window.addEventListener('resize', () => { /* ç„¡éœ€é‡ç®— CSS confetti */ });

    // é–‹å§‹æ–‡å­—æµç¨‹
    runSequence();

    // ä¹Ÿåœ¨è¼‰å…¥æ™‚å˜—è©¦æ’­æ”¾ä¸€æ¬¡ï¼ˆè‹¥å¯ï¼‰
    tryPlayBgm();
  </script>
</body>
</html>
